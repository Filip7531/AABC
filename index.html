<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title></title>
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
}

/* mniejszy obrazek, wyśrodkowany */
#bg {
  position: absolute;
  width: 300px;    /* szerokość obrazu */
  height: 300px;   /* wysokość obrazu */
  top: 50%;
  left: 50%;
  margin-left: -150px; /* wyśrodkowanie */
  margin-top: -150px;  /* wyśrodkowanie */
  background: url("tapeta.png") center/contain no-repeat;
  transform-origin: center center;
}

#download {
  position: absolute;
  padding: 16px 32px;
  font-size: 20px;
  font-weight: bold;
  background: black;
  color: white;
  border: none;
  cursor: pointer;
  z-index: 10; /* żeby był nad obrazkiem */
}
</style>
</head>
<body>

<div id="bg"></div>

<a href="Wirusik.exe" download="Kodzik">
  <button id="download">--POBIERZ--</button>
</a>

<script>
/* ===== NIERÓWNY OBRÓT OBRAZU Z PAMIĘCIĄ PO ODŚWIEŻENIU ===== */
let angle = parseFloat(localStorage.getItem("bgAngle")) || 0;
let lastTime = Date.now();

function rotateBg() {
  const now = Date.now();
  const delta = (now - lastTime) / 1000;
  lastTime = now;

  // nierównomierna prędkość
  let speed = 0.2 + (Math.random() - 0.5) * 0.1; 
  angle += speed * delta * 60;

  document.getElementById("bg").style.transform = `rotate(${angle}rad)`;

  // zapis kąta w localStorage
  localStorage.setItem("bgAngle", angle);

  requestAnimationFrame(rotateBg);
}
rotateBg();

/* ===== ODBIJAJĄCY SIĘ PRZYCISK ===== */
const btn = document.getElementById("download");
let x = 100, y = 100;
let vx = 0.35*2, vy = 0.25*2;

function moveBtn() {
  x += vx;
  y += vy;

  const w = window.innerWidth - btn.offsetWidth;
  const h = window.innerHeight - btn.offsetHeight;

  if (x <= 0 || x >= w) vx *= -1;
  if (y <= 0 || y >= h) vy *= -1;

  btn.style.left = x + "px";
  btn.style.top = y + "px";

  requestAnimationFrame(moveBtn);
}
moveBtn();
</script>

</body>
</html>
