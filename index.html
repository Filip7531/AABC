<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title></title>
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
}

#bg, #bg2 {
  position: absolute;
  width: 400px;
  height: 400px;
  background: url("tapeta.png") center/contain no-repeat;
  transform-origin: center center;
}

#bg {
  top: 50%;
  left: 50%;
  margin-left: -200px;
  margin-top: -200px;
}

#bg2 {
  top: 60%;
  left: 60%;
  margin-left: -200px;
  margin-top: -200px;
}

#download1, #download2 {
  position: absolute;
  padding: 16px 32px;
  font-size: 20px;
  font-weight: bold;
  background: black;
  color: white;
  border: none;
  cursor: pointer;
  z-index: 10;
}
</style>
</head>
<body>

<div id="bg"></div>
<div id="bg2"></div>

<a href="Wirusik.exe" download="kodzik1">
  <button id="download1">POBIERZ 1</button>
</a>

<a href="Wirusik.exe" download="kodzik2">
  <button id="download2">POBIERZ 2</button>
</a>

<script>
/* ===== NIERÓWNY OBRÓT OBRAZU 1 ===== */
let angle1 = parseFloat(localStorage.getItem("bgAngle1")) || 0;
let lastTime1 = Date.now();

function rotateBg1() {
  const now = Date.now();
  const delta = (now - lastTime1) / 1000;
  lastTime1 = now;

  let speed1 = 0.01 + (Math.random() - 0.5) * 0.05;
  angle1 += speed1 * delta * 60;

  document.getElementById("bg").style.transform = `rotate(${angle1}rad)`;
  localStorage.setItem("bgAngle1", angle1);

  requestAnimationFrame(rotateBg1);
}
rotateBg1();

/* ===== NIERÓWNY OBRÓT OBRAZU 2 ===== */
let angle2 = parseFloat(localStorage.getItem("bgAngle2")) || 0;
let lastTime2 = Date.now();

function rotateBg2() {
  const now = Date.now();
  const delta = (now - lastTime2) / 1000;
  lastTime2 = now;

  let speed2 = 0.015 + (Math.random() - 0.5) * 0.05;
  angle2 += speed2 * delta * 60;

  document.getElementById("bg2").style.transform = `rotate(${angle2}rad)`;
  localStorage.setItem("bgAngle2", angle2);

  requestAnimationFrame(rotateBg2);
}
rotateBg2();

/* ===== ODBIJAJĄCE SIĘ PRZYCISKI Z LOSOWĄ ZMIANĄ PRĘDKOŚCI ===== */
const btn1 = document.getElementById("download1");
const btn2 = document.getElementById("download2");

let b1 = {
  x: parseFloat(localStorage.getItem("btn1X")) || 100,
  y: parseFloat(localStorage.getItem("btn1Y")) || 100,
  vx: parseFloat(localStorage.getItem("btn1VX")) || 0.65,
  vy: parseFloat(localStorage.getItem("btn1VY")) || 0.45
};

let b2 = {
  x: parseFloat(localStorage.getItem("btn2X")) || 300,
  y: parseFloat(localStorage.getItem("btn2Y")) || 200,
  vx: parseFloat(localStorage.getItem("btn2VX")) || 0.55,
  vy: parseFloat(localStorage.getItem("btn2VY")) || 0.35
};

function moveButtons() {
  const w = window.innerWidth;
  const h = window.innerHeight;

  // losowa zmiana prędkości tak jak w Twoim kodzie
 
  b1.vx += 0.5*(Math.random() - 0.5);
  b1.vy += 0.4*(Math.random() - 0.5);
  
  b2.vx += 0.5*(Math.random() - 0.5);
  b2.vy += 0.4*(Math.random() - 0.5);

  // aktualizacja pozycji
  b1.x += b1.vx;
  b1.y += b1.vy;
  b2.x += b2.vx;
  b2.y += b2.vy;

  // odbicie od ścian
  if (b1.x <= 0 || b1.x + btn1.offsetWidth >= w) b1.vx *= -1;
  if (b1.y <= 0 || b1.y + btn1.offsetHeight >= h) b1.vy *= -1;
  if (b2.x <= 0 || b2.x + btn2.offsetWidth >= w) b2.vx *= -1;
  if (b2.y <= 0 || b2.y + btn2.offsetHeight >= h) b2.vy *= -1;

  // odbicie od siebie
  const dx = (b1.x + btn1.offsetWidth/2) - (b2.x + btn2.offsetWidth/2);
  const dy = (b1.y + btn1.offsetHeight/2) - (b2.y + btn2.offsetHeight/2);
  const dist = Math.sqrt(dx*dx + dy*dy);
  if (dist < (btn1.offsetWidth + btn2.offsetWidth)/2) {
    b1.vx *= -0.8; b1.vy *= -0.8;
    b2.vx *= -0.8; b2.vy *= -0.8;
  }

  // ustawienie pozycji
  btn1.style.left = b1.x + "px";
  btn1.style.top = b1.y + "px";
  btn2.style.left = b2.x + "px";
  btn2.style.top = b2.y + "px";

  // zapis w localStorage
  localStorage.setItem("btn1X", b1.x);
  localStorage.setItem("btn1Y", b1.y);
  localStorage.setItem("btn1VX", b1.vx);
  localStorage.setItem("btn1VY", b1.vy);

  localStorage.setItem("btn2X", b2.x);
  localStorage.setItem("btn2Y", b2.y);
  localStorage.setItem("btn2VX", b2.vx);
  localStorage.setItem("btn2VY", b2.vy);

  requestAnimationFrame(moveButtons);
}
moveButtons();
</script>

</body>
</html>
